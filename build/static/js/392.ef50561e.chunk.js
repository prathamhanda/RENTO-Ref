"use strict";(self.webpackChunkroomsonrent_frontend=self.webpackChunkroomsonrent_frontend||[]).push([[392],{3392:(e,s,r)=>{r.r(s),r.d(s,{default:()=>c});var a=r(5043),o=r(3216),t=r(5475),d=r(9133),l=r(2746),n=r(579);const c=()=>{const[e,s]=(0,a.useState)({password:"",confirmPassword:""}),[r,c]=(0,a.useState)({}),[i,m]=(0,a.useState)(!1),[x,h]=(0,a.useState)(!1),{resetPassword:u,loading:p,error:w}=(0,d.As)(),{token:f}=(0,o.g)(),j=(0,o.zy)(),g=(0,o.Zp)();(0,a.useEffect)((()=>{if(!f){new URLSearchParams(j.search).get("token")||g("/forgot-password")}}),[f,j.search,g]);const b=a=>{const{name:o,value:t}=a.target;s({...e,[o]:t}),r[o]&&c({...r,[o]:null})};return(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,n.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,n.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Set new password"}),(0,n.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:(0,n.jsx)(t.N_,{to:"/login",className:"font-medium text-[#FE6F61] hover:text-[#e55a4d]",children:"Back to login"})})]}),(0,n.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,n.jsx)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:x?(0,n.jsx)("div",{className:"rounded-md bg-green-50 p-4",children:(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,n.jsxs)("div",{className:"ml-3",children:[(0,n.jsx)("h3",{className:"text-sm font-medium text-green-800",children:"Password reset successful"}),(0,n.jsx)("div",{className:"mt-2 text-sm text-green-700",children:(0,n.jsx)("p",{children:"Your password has been reset successfully. You will be redirected to the login page shortly."})})]})]})}):(0,n.jsxs)(n.Fragment,{children:[w&&(0,n.jsx)("div",{className:"mb-4 bg-red-50 border-l-4 border-red-400 p-4",children:(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,n.jsx)("div",{className:"ml-3",children:(0,n.jsx)("p",{className:"text-sm text-red-700",children:w})})]})}),(0,n.jsxs)("form",{className:"space-y-6",onSubmit:async s=>{if(s.preventDefault(),(()=>{const s={};return e.password?e.password.length<6&&(s.password="Password must be at least 6 characters"):s.password="Password is required",e.confirmPassword?e.password!==e.confirmPassword&&(s.confirmPassword="Passwords do not match"):s.confirmPassword="Please confirm your password",c(s),0===Object.keys(s).length})())try{const s=f||new URLSearchParams(j.search).get("token");(await u(s,e.password)).success&&(h(!0),setTimeout((()=>{g("/login")}),3e3))}catch(r){console.error("Password reset error:",r)}},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New password"}),(0,n.jsxs)("div",{className:"mt-1 relative",children:[(0,n.jsx)("input",{id:"password",name:"password",type:i?"text":"password",autoComplete:"new-password",value:e.password,onChange:b,className:`appearance-none block w-full px-3 py-2 border ${r.password?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#FE6F61] focus:border-[#FE6F61] sm:text-sm`}),(0,n.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-500",onClick:()=>m(!i),children:i?(0,n.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):(0,n.jsxs)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),r.password&&(0,n.jsx)("p",{className:"mt-2 text-sm text-red-600",children:r.password})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm new password"}),(0,n.jsxs)("div",{className:"mt-1",children:[(0,n.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:i?"text":"password",autoComplete:"new-password",value:e.confirmPassword,onChange:b,className:`appearance-none block w-full px-3 py-2 border ${r.confirmPassword?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#FE6F61] focus:border-[#FE6F61] sm:text-sm`}),r.confirmPassword&&(0,n.jsx)("p",{className:"mt-2 text-sm text-red-600",children:r.confirmPassword})]})]}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{type:"submit",disabled:p,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-[#FE6F61] hover:bg-[#e55a4d] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#FE6F61] disabled:opacity-50 disabled:cursor-not-allowed",children:p?(0,n.jsx)(l.A,{size:"small",color:"white"}):"Reset password"})})]})]})})})]})}}}]);
//# sourceMappingURL=392.ef50561e.chunk.js.map