"use strict";(self.webpackChunkroomsonrent_frontend=self.webpackChunkroomsonrent_frontend||[]).push([[879],{8879:(e,s,t)=>{t.r(s),t.d(s,{default:()=>n});var i=t(5043),l=t(5475),a=t(6213),r=t(579);const n=()=>{const[e,s]=(0,i.useState)([]),[t,n]=(0,i.useState)(!0);(0,i.useEffect)((()=>{(async()=>{try{const e=await a.A.get("/api/owner/listings");s(e.data)}catch(e){console.error("Error fetching listings:",e)}finally{n(!1)}})()}),[]);return t?(0,r.jsx)("div",{children:"Loading..."}):(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"My Listings"}),(0,r.jsx)(l.N_,{to:"/dashboard/listings/create",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Add New Listing"})]}),0===e.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"You haven't created any listings yet."}),(0,r.jsx)(l.N_,{to:"/dashboard/listings/create",className:"text-blue-600 hover:text-blue-700",children:"Create your first listing"})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((t=>(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,r.jsx)("img",{src:t.images[0],alt:t.title,className:"w-full h-48 object-cover rounded-t-lg"}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-2",children:t.title}),(0,r.jsx)("p",{className:"text-gray-600 mb-2",children:t.location}),(0,r.jsxs)("p",{className:"text-lg font-bold text-blue-600 mb-4",children:["$",t.price,"/month"]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)(l.N_,{to:`/dashboard/listings/edit/${t._id}`,className:"text-blue-600 hover:text-blue-700",children:"Edit"}),(0,r.jsx)("button",{onClick:()=>(async t=>{if(window.confirm("Are you sure you want to delete this listing?"))try{await a.A.delete(`/api/listings/${t}`),s(e.filter((e=>e._id!==t)))}catch(i){console.error("Error deleting listing:",i)}})(t._id),className:"text-red-600 hover:text-red-700",children:"Delete"})]})]})]},t._id)))})]})}}}]);
//# sourceMappingURL=879.c058b1ab.chunk.js.map