"use strict";(self.webpackChunkroomsonrent_frontend=self.webpackChunkroomsonrent_frontend||[]).push([[455],{7455:(e,s,t)=>{t.r(s),t.d(s,{default:()=>d});var r=t(5043),i=t(3216),n=t(5475),a=t(7760),l=(t(9133),t(5336)),o=t(2746),c=t(579);const d=()=>{const{bookingId:e}=(0,i.g)(),{getBookingById:s,loading:t}=(0,a.B)(),[d,x]=(0,r.useState)(null),[m,h]=(0,r.useState)(null);(0,r.useEffect)((()=>{e&&(async()=>{try{const t=await s(e);x(t)}catch(t){console.error("Error fetching booking:",t),h("Failed to load booking details. Please check your bookings in your profile.")}})()}),[e,s]);const g=e=>new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}),u=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e);return t?(0,c.jsx)(l.A,{children:(0,c.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,c.jsx)(o.A,{size:"large",color:"indigo"})})}):m?(0,c.jsx)(l.A,{children:(0,c.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,c.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded-md",children:(0,c.jsxs)("div",{className:"flex",children:[(0,c.jsx)("div",{className:"flex-shrink-0",children:(0,c.jsx)("svg",{className:"h-5 w-5 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,c.jsx)("div",{className:"ml-3",children:(0,c.jsx)("p",{className:"text-sm text-red-700",children:m})})]})}),(0,c.jsx)("div",{className:"mt-4 text-center",children:(0,c.jsx)(n.N_,{to:"/profile/bookings",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-[#FE6F61] hover:bg-[#e55a4d] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#FE6F61]",children:"View My Bookings"})})]})}):d?(0,c.jsx)(l.A,{children:(0,c.jsx)("div",{className:"bg-gray-50 min-h-screen",children:(0,c.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,c.jsxs)("div",{className:"bg-green-500 p-6 text-center",children:[(0,c.jsx)("div",{className:"flex justify-center",children:(0,c.jsx)("div",{className:"bg-white rounded-full p-2",children:(0,c.jsx)("svg",{className:"h-12 w-12 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),(0,c.jsx)("h1",{className:"mt-4 text-2xl font-bold text-white",children:"Booking Confirmed!"}),(0,c.jsx)("p",{className:"mt-2 text-white opacity-90",children:"Your booking has been successfully confirmed."})]}),(0,c.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Booking ID"}),(0,c.jsx)("p",{className:"font-medium text-gray-900",children:d._id})]}),(0,c.jsxs)("div",{className:"text-right",children:[(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Booking Date"}),(0,c.jsx)("p",{className:"font-medium text-gray-900",children:g(d.createdAt)})]})]})}),(0,c.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,c.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Property Details"}),(0,c.jsxs)("div",{className:"flex items-start",children:[(0,c.jsx)("div",{className:"w-24 h-24 bg-gray-200 rounded-md overflow-hidden flex-shrink-0",children:(0,c.jsx)("img",{src:d.listing.images[0]||"/images/placeholder.jpg",alt:d.listing.title,className:"w-full h-full object-cover"})}),(0,c.jsxs)("div",{className:"ml-4",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:(0,c.jsx)(n.N_,{to:`/listings/${d.listing._id}`,className:"hover:text-[#FE6F61]",children:d.listing.title})}),(0,c.jsxs)("p",{className:"text-sm text-gray-600",children:[d.listing.location.name,", ",d.listing.location.city]}),(0,c.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[d.listing.type," | ",d.listing.occupancy]}),(0,c.jsxs)("div",{className:"mt-2",children:[(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Property Owner"}),(0,c.jsxs)("p",{className:"text-sm text-gray-900",children:[d.listing.owner.name," | ",d.listing.owner.phone]})]})]})]})]}),(0,c.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,c.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Booking Details"}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Check-in Date"}),(0,c.jsx)("p",{className:"font-medium text-gray-900",children:g(d.checkInDate)})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Duration"}),(0,c.jsxs)("p",{className:"font-medium text-gray-900",children:[d.duration," ",1===d.duration?"month":"months"]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Occupants"}),(0,c.jsxs)("p",{className:"font-medium text-gray-900",children:[d.occupants," ",1===d.occupants?"person":"people"]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Status"}),(0,c.jsx)("p",{className:"font-medium "+("confirmed"===d.status?"text-green-600":"pending"===d.status?"text-yellow-600":"cancelled"===d.status?"text-red-600":"text-gray-900"),children:d.status.charAt(0).toUpperCase()+d.status.slice(1)})]})]}),d.message&&(0,c.jsxs)("div",{className:"mt-4",children:[(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Your Message to Owner"}),(0,c.jsx)("p",{className:"mt-1 text-gray-600 border-l-4 border-gray-200 pl-3 italic",children:d.message})]})]}),(0,c.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,c.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Details"}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsxs)("div",{className:"flex justify-between",children:[(0,c.jsx)("span",{className:"text-gray-600",children:"Monthly Rent"}),(0,c.jsx)("span",{className:"text-gray-900",children:u(d.listing.price)})]}),(0,c.jsxs)("div",{className:"flex justify-between",children:[(0,c.jsx)("span",{className:"text-gray-600",children:"Duration"}),(0,c.jsxs)("span",{className:"text-gray-900",children:[d.duration," ",1===d.duration?"month":"months"]})]}),(0,c.jsxs)("div",{className:"flex justify-between",children:[(0,c.jsx)("span",{className:"text-gray-600",children:"Security Deposit"}),(0,c.jsx)("span",{className:"text-gray-900",children:u(d.listing.securityDeposit)})]}),(0,c.jsxs)("div",{className:"pt-3 mt-3 border-t border-gray-200 flex justify-between",children:[(0,c.jsx)("span",{className:"font-semibold text-gray-900",children:"Total Amount"}),(0,c.jsx)("span",{className:"font-semibold text-[#FE6F61]",children:u(d.amount)})]})]})]}),(0,c.jsxs)("div",{className:"p-6",children:[(0,c.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Next Steps"}),(0,c.jsx)("div",{className:"bg-blue-50 p-4 rounded-md",children:(0,c.jsxs)("ul",{className:"list-disc pl-5 space-y-2 text-sm text-gray-600",children:[(0,c.jsx)("li",{children:"The property owner will contact you soon to finalize your booking."}),(0,c.jsx)("li",{children:"Be ready with your security deposit and first month's rent for move-in."}),(0,c.jsxs)("li",{children:["You can view all your booking details in your ",(0,c.jsx)(n.N_,{to:"/profile/bookings",className:"text-[#FE6F61] hover:underline",children:"profile section"}),"."]}),(0,c.jsx)("li",{children:"For any queries, please contact the owner directly or reach out to our support team."})]})}),(0,c.jsxs)("div",{className:"mt-6 flex flex-col sm:flex-row sm:justify-center gap-4",children:[(0,c.jsx)(n.N_,{to:"/profile/bookings",className:"inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-[#FE6F61] hover:bg-[#e55a4d] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#FE6F61]",children:"View My Bookings"}),(0,c.jsx)(n.N_,{to:"/",className:"inline-flex justify-center items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#FE6F61]",children:"Return to Home"})]})]})]})})})}):(0,c.jsx)(l.A,{children:(0,c.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("h2",{className:"text-xl font-semibold text-gray-700",children:"Booking not found"}),(0,c.jsx)("p",{className:"mt-2 text-gray-500",children:"The booking you're looking for doesn't exist or you don't have permission to view it."}),(0,c.jsx)("div",{className:"mt-4",children:(0,c.jsx)(n.N_,{to:"/profile/bookings",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-[#FE6F61] hover:bg-[#e55a4d] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#FE6F61]",children:"View My Bookings"})})]})})})}}}]);
//# sourceMappingURL=455.5224008a.chunk.js.map